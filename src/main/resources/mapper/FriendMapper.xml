<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.hisen.dao.FriendDao">
  <!-- 目的：为dao接口方法提供sql语句配置 -->
  <select id="queryById" resultType="Friend" parameterType="long">
    <!-- 具体的sql -->
    SELECT friendid,friendname,friendheadimg,friendsignature,friendemail
    FROM friends
    WHERE friendid = #{friendId}
  </select>

  <select id="queryAll" resultType="Friend">
    SELECT friendid,friendname,friendheadimg,friendsignature,friendemail
    FROM friends
    ORDER BY friendid
    LIMIT #{offset}, #{limit}
  </select>

  <update id="updateFriend" parameterType="Friend">
    UPDATE friends
    SET friendname = #{friendname},
    friendheadimg = #{friendheadimg},
    friendsignature = #{friendsignature},
    friendemail = #{friendemail}
    WHERE
    friendid = #{friendid}
    AND number > 0
  </update>

  <insert id="addFriend">
    INSERT INTO friend(`friendid`, `friendname`, `friendheadimg`,`friendsignature`,`friendemail`)
    VALUES(#{friendid}, #{friendname}, #{friendheadimg}, #{friendsignature}, #{friendemail})
  </insert>

  <delete id="deleteFriendById">
    DELETE FROM friends WHERE friendid = #{friendid}
  </delete>
</mapper>